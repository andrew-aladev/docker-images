diff --git a/configure.ac b/configure.ac
index e46b240..82a46fb 100644
--- a/configure.ac
+++ b/configure.ac
@@ -680,6 +680,82 @@ AC_ARG_ENABLE([doc], AC_HELP_STRING([--disable-doc],
                      build_doc=$enableval, build_doc=yes)
 AM_CONDITIONAL([BUILD_DOC], [test "x$build_doc" != xno])
 
+header_file_triplet=no
+
+case $ac_cv_host in
+aarch64*-apple-darwin)
+  header_file_triplet=aarch64-apple-darwin;;
+aarch64*-linux-gnu)
+  header_file_triplet=aarch64-unknown-linux-gnu;;
+alpha*-linux-gnu)
+  header_file_triplet=alpha-unknown-linux-gnu;;
+arm*-apple-darwin)
+  header_file_triplet=arm-apple-darwin;;
+arm*-linux-androideabi)
+  header_file_triplet=arm-unknown-linux-androideabi;;
+arm*-hardfloat-linux-gnueabi)
+  header_file_triplet=arm-unknown-linux-gnueabihf;;
+arm*-linux-gnueabihf)
+  header_file_triplet=arm-unknown-linux-gnueabihf;;
+arm*-hardfloat-linux-musleabi)
+  header_file_triplet=armv6-unknown-linux-musleabihf;;
+arm*-linux-musleabihf)
+  header_file_triplet=armv6-unknown-linux-musleabihf;;
+arm*-linux-musleabi)
+  header_file_triplet=armv5-unknown-linux-musleabi;;
+arm*-linux-gnueabi)
+  header_file_triplet=arm-unknown-linux-gnueabi;;
+hppa*-linux-gnu)
+  header_file_triplet=hppa-unknown-linux-gnu;;
+i?86*freebsd-gnu)
+  header_file_triplet=i686-pc-kfreebsd-gnu;;
+i?86*-linux-gnu)
+  header_file_triplet=i686-pc-linux-gnu;;
+i?86*-pc-gnu)
+  header_file_triplet=i686-pc-gnu;;
+m68*-linux-gnu)
+  header_file_triplet=m68k-unknown-linux-gnu;;
+mingw32*)
+  header_file_triplet=mingw32;;
+mips64el*-linux-gnuabi64)
+  header_file_triplet=mips64el-unknown-linux-gnuabi64;;
+mipsel*-linux-gnu)
+  header_file_triplet=mipsel-unknown-linux-gnu;;
+mips*-linux-gnu)
+  header_file_triplet=mips-unknown-linux-gnu;;
+nios2*-linux-gnu)
+  header_file_triplet=nios2-unknown-linux-gnu;;
+or1k*-linux-gnu)
+  header_file_triplet=or1k-unknown-linux-gnu;;
+powerpc64le*-linux-gnu)
+  header_file_triplet=powerpc64le-unknown-linux-gnu;;
+powerpc64*-linux-gnu)
+  header_file_triplet=powerpc64-unknown-linux-gnu;;
+powerpc*-linux-gnu)
+  header_file_triplet=powerpc-unknown-linux-gnu;;
+s390x*-linux-gnu)
+  header_file_triplet=s390x-ibm-linux-gnu;;
+sh4*-linux-gnu)
+  header_file_triplet=sh4-unknown-linux-gnu;;
+sparc64*-linux-gnu)
+  header_file_triplet=sparc64-unknown-linux-gnu;;
+sparc*-linux-gnu)
+  header_file_triplet=sparc-unknown-linux-gnu;;
+x86_64*freebsd-gnu)
+  header_file_triplet=x86_64-pc-kfreebsd-gnu;;
+x86_64*-linux-musl)
+  header_file_triplet=x86_64-pc-linux-musl;;
+x86_64*-linux-gnux32)
+  header_file_triplet=x86_64-pc-linux-gnux32;;
+x86_64*-linux-gnu)
+  header_file_triplet=x86_64-pc-linux-gnu;;
+esac
+
+AM_CONDITIONAL([FOUND_VALID_HEADER_TRIPLET],
+  [test "x$header_file_triplet" != xno])
+AM_COND_IF([FOUND_VALID_HEADER_TRIPLET],
+  [AC_CONFIG_LINKS([src/syscfg/lock-obj-pub.$host_os.h:src/syscfg/lock-obj-pub.$header_file_triplet.h])])
+
 build_tests=yes
 AC_ARG_ENABLE([tests], AC_HELP_STRING([--disable-tests],
                                     [do not build the tests]),
diff --git a/src/mkheader.c b/src/mkheader.c
index 77826da..01182f9 100644
--- a/src/mkheader.c
+++ b/src/mkheader.c
@@ -619,7 +619,7 @@ write_special (const char *fname, int lnr, const char *tag)
       if (cross_building
           || try_include_file (fname, lnr,
                                "./lock-obj-pub.native.h", write_line))
-        include_file (fname, lnr, "syscfg/lock-obj-pub.&.h", write_line);
+        include_file (fname, lnr, "./syscfg/lock-obj-pub.&.h", write_line);
     }
   else
     return 0; /* Unknown tag.  */
